import{g as a,F as e,L as u,J as l,I as g,B as h,G as _,l as m,f as i,ah as f,ai as w}from"./@vue-NjKOnEGT.js";import{_ as y}from"./index-DiHM5LYq.js";import"./pinia-BP0IfFWe.js";import"./@townsquarelabs-DM-69Jax.js";import"./@tonconnect-M86Ec7Bf.js";import"./tweetnacl-util-2xfJoBJT.js";import"./classnames-CVOySMdS.js";import"./tweetnacl-B8ikFTel.js";import"./ua-parser-js-BKpq8BhR.js";import"./deepmerge-D8huMqX6.js";import"./axios-C8DqakIB.js";import"./vue-i18n-5Qi6QEAo.js";import"./@intlify-YGwFW6EB.js";import"./vue-router-DZppbSTe.js";import"./vue-cookies-oMoGE7eu.js";/* empty css             */import"./@vuepic-CdScWKV-.js";import"./date-fns-C7_rVUPb.js";import"./vuetify-MtPVAfi-.js";import"./vue-lazyload-Bd2acmnH.js";import"./firebase-DvzBAoB-.js";import"./@firebase-Hco5RtB1.js";import"./tslib-BGVaTf34.js";import"./idb-BXWtuYvb.js";const v={data(){return{selectedLanguage:"EN",news:[],russianNews:[],loading:!0}},computed:{currentLanguageLabel(){return{EN:"EN",ES:"ES",FR:"FR",TR:"TR",RU:"RU"}[this.selectedLanguage]||"en"}},methods:{changeLanguage(t){this.selectedLanguage=t,this.fetchNews(t)},async fetchNews(t="EN"){if(this.loading=!0,t==="RU"){const o="https://4v-news-api.azurewebsites.net/News",p={SiteId:1,Language:52,CategoryId:16,WithImageOnly:!0,Page:1,PageSize:30};try{const n=await(await fetch(`${o}?${new URLSearchParams(p)}`)).json();this.russianNews=n.items||[]}catch(c){console.error("Ошибка при получении русских новостей:",c)}finally{this.loading=!1}}else{const o=`https://min-api.cryptocompare.com/data/v2/news/?categories=BTC,ETH,regulation&extraParams=YourSite&lang=${t}`;try{const c=await(await fetch(o)).json();c.Type===100?this.news=c.Data||[]:console.error("Ошибка при получении новостей:",c.Message)}catch(p){console.error("Ошибка:",p)}finally{this.loading=!1}}}},mounted(){this.fetchNews(this.selectedLanguage)}},r=t=>(f("data-v-a4342f4e"),t=t(),w(),t),b={class:"container my-5"},k=r(()=>e("br",null,null,-1)),L=r(()=>e("br",null,null,-1)),N=r(()=>e("br",null,null,-1)),R=r(()=>e("br",null,null,-1)),E={class:"dropdown"},S={style:{position:"fixed",top:"101px","font-size":"9px"},class:"btn btn-danger dropdown-toggle",type:"button",id:"dropdownLanguage","data-bs-toggle":"dropdown","aria-expanded":"false"},C={class:""},T={class:"dropdown-menu","aria-labelledby":"dropdownLanguage"},U={key:0,class:"spinner-container"},x=r(()=>e("div",{class:"spinner-border text-warning",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1)),F=[x],M={key:1},B={key:0,class:"row"},I={class:"card mb-4 shadow-sm"},D=["src"],P={class:"card-body"},j={class:"card-title"},z={class:"card-text"},H=["href"],V=r(()=>e("br",null,null,-1)),A={key:1},W=r(()=>e("p",null,"Ошибка загрузки русских новостей или новости недоступны.",-1)),Y=[W],G={key:2},J={key:0,class:"row"},O={class:"card mb-4 shadow-sm"},Q=["src"],X={key:1,src:"https://media.licdn.com/dms/image/D5612AQFy5W3uXU0sNw/article-cover_image-shrink_720_1280/0/1708932951704?e=2147483647&v=beta&t=v-NpllAfRHhajeMi691pM29UDfIHgdfyTYClEl0neg4",class:"card-img-top",alt:"News image"},q={class:"card-body"},K={class:"card-title"},Z={class:"card-text"},$=["href"],ee=r(()=>e("br",null,null,-1)),se={key:3},te=r(()=>e("p",null,"Новостей нет на выбранном языке.",-1)),oe=[te];function ne(t,o,p,c,n,d){return i(),a("div",b,[k,L,N,R,e("div",E,[e("button",S,[u(l(t.$t("CryptoNews"))+" (",1),e("span",C,l(d.currentLanguageLabel),1),u(") ")]),e("ul",T,[e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:o[0]||(o[0]=g(s=>d.changeLanguage("EN"),["prevent"]))},"English")]),e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:o[1]||(o[1]=g(s=>d.changeLanguage("ES"),["prevent"]))},"Español")]),e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:o[2]||(o[2]=g(s=>d.changeLanguage("FR"),["prevent"]))},"Français")]),e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:o[3]||(o[3]=g(s=>d.changeLanguage("TR"),["prevent"]))},"Türkçe")]),e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:o[4]||(o[4]=g(s=>d.changeLanguage("RU"),["prevent"]))},"Русский")])])]),n.loading?(i(),a("div",U,F)):h("",!0),n.selectedLanguage==="RU"?(i(),a("div",M,[!n.loading&&n.russianNews.length>0?(i(),a("div",B,[(i(!0),a(_,null,m(n.russianNews,s=>(i(),a("div",{class:"col-12 col-sm-6 col-md-4",key:s.id},[e("div",I,[e("img",{src:s.urlToImage,class:"card-img-top",alt:"News image"},null,8,D),e("div",P,[e("h5",j,l(s.title),1),e("p",z,l(s.content),1),e("a",{href:s.url,target:"_blank",class:"btn btn-primary"},l(t.$t("ReadMore")),9,H)])])]))),128)),V])):n.loading?h("",!0):(i(),a("div",A,Y))])):(i(),a("div",G,[!n.loading&&n.news.length>0?(i(),a("div",J,[(i(!0),a(_,null,m(n.news,s=>(i(),a("div",{class:"col-12 col-sm-6 col-md-4",key:s.id},[e("div",O,[s.imageurl?(i(),a("img",{key:0,src:s.imageurl,class:"card-img-top",alt:"News image"},null,8,Q)):(i(),a("img",X)),e("div",q,[e("h5",K,l(s.title),1),e("p",Z,l(s.body),1),e("a",{href:s.url,target:"_blank",class:"btn btn-primary"},l(t.$t("ReadMore")),9,$)])])]))),128))])):h("",!0)])),ee,!n.loading&&(!n.news||n.news.length===0)?(i(),a("div",se,oe)):h("",!0)])}const Te=y(v,[["render",ne],["__scopeId","data-v-a4342f4e"]]);export{Te as default};
